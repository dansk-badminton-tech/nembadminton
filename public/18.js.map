{"version":3,"sources":["webpack:///resources/js/views/Login.vue","webpack:///./resources/js/views/Login.vue?629c","webpack:///./resources/js/views/Login.vue","webpack:///./resources/js/views/Login.vue?ac23","webpack:///./resources/js/views/Login.vue?93f6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaA;AACA;AAEA;AACA,eADA;AAEA,MAFA,kBAEA;AACA;AACA,iBADA;AAEA,oBAFA;AAGA;AAHA;AAKA,GARA;AASA;AACA;AADA,GATA;AAYA;AACA,SADA,mBACA;AAAA;;AACA;AACA,0BACA;AACA,uFADA;AAQA;AACA;AACA,gCADA;AAEA;AAFA;AADA;AARA,OADA,EAgBA,IAhBA,CAgBA;AAAA;AACA;;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;AAAA;AAAA;AACA;AACA,OAxBA,WAwBA;AAAA;;AACA,mCACA;AACA,wBADA;AAEA,2BAFA;AAGA;AAHA,SADA;AAMA,OA/BA,aA+BA;AACA;AACA,OAjCA;AAkCA;AArCA;AAZA,G;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS,SAAS,iBAAiB,EAAE;AACrC;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,uBAAuB,EAAE;AAC3C;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,gDAAgD,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAgG;AACvC;AACL;;;AAGpD;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAqL,CAAgB,iPAAG,EAAC,C;;;;;;;;;;;;ACAzM;AAAA;AAAA;AAAA;AAAA;AAAA","file":"18.js","sourcesContent":["<template>\n    <form class=\"mt-2\" @submit.prevent=\"login\">\n        <b-field label=\"Email\">\n            <b-input v-model=\"email\" type=\"email\"></b-input>\n        </b-field>\n        <b-field label=\"Adgangskode\">\n            <b-input v-model=\"password\" type=\"password\"></b-input>\n        </b-field>\n        <b-button :loading=\"loading\" native-type=\"submit\">Login</b-button>\n    </form>\n</template>\n\n<script>\nimport gql from 'graphql-tag'\nimport {setAuthToken} from \"../auth\";\n\nexport default {\n    name: \"Login\",\n    data() {\n        return {\n            email: null,\n            password: null,\n            loading: false\n        }\n    },\n    props: {\n        afterLogin: Function\n    },\n    methods: {\n        login() {\n            this.loading = true;\n            this.$apollo.mutate(\n                {\n                    mutation: gql`\n                        mutation ($input: LoginInput){\n                          login(input: $input){\n                            access_token\n                          }\n                        }\n                    `,\n                    variables: {\n                        input: {\n                            username: this.email,\n                            password: this.password\n                        }\n                    }\n                }\n            ).then(({data}) => {\n                setAuthToken(data.login.access_token)\n                this.$root.$emit('loggedIn')\n                if (this.afterLogin instanceof Function) {\n                    this.afterLogin()\n                } else {\n                    this.$router.push({name: 'team-fight-dashboard'})\n                }\n            }).catch(({graphQLErrors}) => {\n                this.$buefy.snackbar.open(\n                    {\n                        duration: 6000,\n                        type: 'is-danger',\n                        message: `Forkert brugernavn eller adgangskode.`\n                    })\n            }).finally(() => {\n                this.loading = false\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"form\",\n    {\n      staticClass: \"mt-2\",\n      on: {\n        submit: function($event) {\n          $event.preventDefault()\n          return _vm.login($event)\n        }\n      }\n    },\n    [\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Email\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { type: \"email\" },\n            model: {\n              value: _vm.email,\n              callback: function($$v) {\n                _vm.email = $$v\n              },\n              expression: \"email\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Adgangskode\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { type: \"password\" },\n            model: {\n              value: _vm.password,\n              callback: function($$v) {\n                _vm.password = $$v\n              },\n              expression: \"password\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-button\",\n        { attrs: { loading: _vm.loading, \"native-type\": \"submit\" } },\n        [_vm._v(\"Login\")]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=12f5395a&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12f5395a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/daniel/projects/holdkamp/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('12f5395a')) {\n      api.createRecord('12f5395a', component.options)\n    } else {\n      api.reload('12f5395a', component.options)\n    }\n    module.hot.accept(\"./Login.vue?vue&type=template&id=12f5395a&scoped=true&\", function () {\n      api.rerender('12f5395a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/Login.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=template&id=12f5395a&scoped=true&\""],"sourceRoot":""}