{"version":3,"sources":["webpack:///resources/js/views/MyProfile.vue","webpack:///./resources/js/views/MyProfile.vue?7f20","webpack:///./resources/js/views/MyProfile.vue","webpack:///./resources/js/views/MyProfile.vue?ed5f","webpack:///./resources/js/views/MyProfile.vue?5d9f"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AAEA;AACA,mBADA;AAEA,MAFA,kBAEA;AACA;AACA;AACA,gBADA;AAEA;AAFA,OADA;AAKA,kBALA;AAMA,+BANA;AAOA,sBAPA;AAQA,6BARA;AASA;AATA;AAWA,GAdA;AAeA;AACA;AACA,kFADA;AASA;AATA;AADA,GAfA;AA4BA;AACA,kBADA,4BACA;AAAA;;AACA;AACA,0BACA;AACA,wFADA;AASA;AACA;AACA,2CADA;AAEA,mCAFA;AAGA;AAHA;AADA;AATA,OADA,EAkBA,IAlBA,CAkBA;AACA,mCACA;AACA,wBADA;AAEA,4BAFA;AAGA;AAHA,SADA;AAMA,OAzBA,aAyBA;AACA;AACA,OA3BA;AA4BA,KA/BA;AAgCA,UAhCA,oBAgCA;AAAA;;AACA;AACA,0BACA;AACA,wFADA;AAUA;AACA;AACA,8BADA;AAEA;AAFA;AADA;AAVA,OADA,EAkBA,IAlBA,CAkBA;AACA;;AACA,oCACA;AACA,wBADA;AAEA,4BAFA;AAGA;AAHA,SADA;AAMA,OA1BA,aA0BA;AACA;AACA,OA5BA;AA6BA;AA/DA;AA5BA,G;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,gBAAgB,EAAE;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,iBAAiB,EAAE;AACrC;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,+BAA+B,OAAO,oBAAoB,EAAE;AAC9E;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA,SAAS,SAAS,iCAAiC,EAAE;AACrD;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,0BAA0B,EAAE;AAC9C;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,iCAAiC,EAAE;AACrD;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gCAAgC;AAClD,eAAe;AACf,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrHA;AAAA;AAAA;AAAA;AAAoG;AACvC;AACL;;;AAGxD;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAyL,CAAgB,qPAAG,EAAC,C;;;;;;;;;;;;ACA7M;AAAA;AAAA;AAAA;AAAA;AAAA","file":"13.js","sourcesContent":["<template>\n    <div>\n        <b-field label=\"Navn\">\n            <b-input v-model=\"me.name\"></b-input>\n        </b-field>\n        <b-field label=\"Email\">\n            <b-input v-model=\"me.email\" type=\"email\"></b-input>\n        </b-field>\n        <b-button @click=\"update\" :loading=\"updatingProfile\">Gem</b-button>\n        <div class=\"mt-4\"></div>\n        <b-field label=\"Nuværende Adgangskode\">\n            <b-input v-model=\"old_password\" type=\"password\"></b-input>\n        </b-field>\n        <b-field label=\"Ny Adgangskode\">\n            <b-input v-model=\"password\" type=\"password\"></b-input>\n        </b-field>\n        <b-field label=\"Gentag ny adgangskode\">\n            <b-input v-model=\"password_confirmation\" type=\"password\"></b-input>\n        </b-field>\n        <b-button @click=\"updatePassword\" :loading=\"updatingPassword\">Skift adgangskode</b-button>\n    </div>\n</template>\n\n<script>\nimport gql from 'graphql-tag'\n\nexport default {\n    name: \"MyProfile\",\n    data() {\n        return {\n            me: {\n                name: '',\n                email: '',\n            },\n            password: '',\n            password_confirmation: '',\n            old_password: '',\n            updatingPassword: false,\n            updatingProfile: false\n        }\n    },\n    apollo: {\n        me: {\n            query: gql`\n                query{\n                    me{\n                        id\n                        email\n                        name\n                    }\n                }`,\n            fetchPolicy: \"network-only\"\n        }\n    },\n    methods: {\n        updatePassword() {\n            this.updatingPassword = true\n            this.$apollo.mutate(\n                {\n                    mutation: gql`\n                        mutation updatePassword($input: UpdatePassword!){\n                            updatePassword(input: $input){\n                                status\n                                message\n                            }\n                        }\n                    `,\n                    variables: {\n                        input: {\n                            old_password: this.old_password,\n                            password: this.password,\n                            password_confirmation: this.password_confirmation\n                        }\n                    }\n                }\n            ).then(() => {\n                this.$buefy.snackbar.open(\n                    {\n                        duration: 2000,\n                        type: 'is-success',\n                        message: `Din adgangskode er nu opdateret`\n                    })\n            }).finally(() => {\n                this.updatingPassword = false\n            })\n        },\n        update() {\n            this.updatingProfile = true\n            this.$apollo.mutate(\n                {\n                    mutation: gql`\n                        mutation updateMe($input: UpdateMe!){\n                            updateMe(input: $input){\n                                id\n                                name\n                                email\n                            }\n                        }\n                    `,\n                    variables: {\n                        input: {\n                            name: this.me.name,\n                            email: this.me.email\n                        }\n                    }\n                }\n            ).then(() => {\n                this.$root.$emit('userUpdated')\n                this.$buefy.snackbar.open(\n                    {\n                        duration: 2000,\n                        type: 'is-success',\n                        message: `Din profil er nu opdateret`\n                    })\n            }).finally(() => {\n                this.updatingProfile = false\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Navn\" } },\n        [\n          _c(\"b-input\", {\n            model: {\n              value: _vm.me.name,\n              callback: function($$v) {\n                _vm.$set(_vm.me, \"name\", $$v)\n              },\n              expression: \"me.name\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Email\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { type: \"email\" },\n            model: {\n              value: _vm.me.email,\n              callback: function($$v) {\n                _vm.$set(_vm.me, \"email\", $$v)\n              },\n              expression: \"me.email\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-button\",\n        { attrs: { loading: _vm.updatingProfile }, on: { click: _vm.update } },\n        [_vm._v(\"Gem\")]\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"mt-4\" }),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Nuværende Adgangskode\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { type: \"password\" },\n            model: {\n              value: _vm.old_password,\n              callback: function($$v) {\n                _vm.old_password = $$v\n              },\n              expression: \"old_password\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Ny Adgangskode\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { type: \"password\" },\n            model: {\n              value: _vm.password,\n              callback: function($$v) {\n                _vm.password = $$v\n              },\n              expression: \"password\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Gentag ny adgangskode\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { type: \"password\" },\n            model: {\n              value: _vm.password_confirmation,\n              callback: function($$v) {\n                _vm.password_confirmation = $$v\n              },\n              expression: \"password_confirmation\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-button\",\n        {\n          attrs: { loading: _vm.updatingPassword },\n          on: { click: _vm.updatePassword }\n        },\n        [_vm._v(\"Skift adgangskode\")]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./MyProfile.vue?vue&type=template&id=8e9c9464&scoped=true&\"\nimport script from \"./MyProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./MyProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e9c9464\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/daniel/projects/holdkamp/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('8e9c9464')) {\n      api.createRecord('8e9c9464', component.options)\n    } else {\n      api.reload('8e9c9464', component.options)\n    }\n    module.hot.accept(\"./MyProfile.vue?vue&type=template&id=8e9c9464&scoped=true&\", function () {\n      api.rerender('8e9c9464', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/MyProfile.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyProfile.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyProfile.vue?vue&type=template&id=8e9c9464&scoped=true&\""],"sourceRoot":""}