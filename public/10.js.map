{"version":3,"sources":["webpack:///resources/js/views/Login.vue","webpack:///./resources/js/views/Login.vue?629c","webpack:///./resources/js/helpers.js","webpack:///./resources/js/views/Login.vue","webpack:///./resources/js/views/Login.vue?ac23","webpack:///./resources/js/views/Login.vue?93f6"],"names":["chunk","array","size","chunked_arr","i","length","last","push","defaultIfUndefined","test","defaultValue","undefined","debounce","fn","delay","timeoutID","clearTimeout","args","arguments","that","setTimeout","apply","findPlayersInCategory","categories","searchCategory","gender","players","categoryItem","category","player","findLevel","member","points","point","findPositions","summary","join","extractErrors","graphqlErrors","errors","graphqlError","extensions","validationKey","validation","error"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaA;AACA;AACA;AAEA;AACA,eADA;AAEA,MAFA,kBAEA;AACA;AACA,iBADA;AAEA,oBAFA;AAGA;AAHA;AAKA,GARA;AASA;AACA,SADA,mBACA;AAAA;;AACA;AACA,0BACA;AACA,uFADA;AAQA;AACA;AACA,gCADA;AAEA;AAFA;AADA;AARA,OADA,EAgBA,IAhBA,CAgBA;AAAA;AACA;;AACA;;AACA;AAAA;AAAA;AACA,OApBA,WAoBA;AAAA;;AACA,mCACA;AACA,wBADA;AAEA,2BAFA;AAGA;AAHA,SADA;AAMA,OA3BA,aA2BA;AACA;AACA,OA7BA;AA8BA;AAjCA;AATA,G;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS,SAAS,iBAAiB,EAAE;AACrC;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,uBAAuB,EAAE;AAC3C;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChEO,SAASA,KAAT,CAAeC,KAAf,EAAsBC,IAAtB,EAA4B;AAC/B,MAAMC,WAAW,GAAG,EAApB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,QAAME,IAAI,GAAGH,WAAW,CAACA,WAAW,CAACE,MAAZ,GAAqB,CAAtB,CAAxB;;AACA,QAAI,CAACC,IAAD,IAASA,IAAI,CAACD,MAAL,KAAgBH,IAA7B,EAAmC;AAC/BC,iBAAW,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","file":"10.js","sourcesContent":["<template>\n    <form @submit.prevent=\"login\">\n        <b-field label=\"Email\">\n            <b-input v-model=\"email\" type=\"email\"></b-input>\n        </b-field>\n        <b-field label=\"Adgangskode\">\n            <b-input v-model=\"password\" type=\"password\"></b-input>\n        </b-field>\n        <b-button :loading=\"loading\" native-type=\"submit\" tag=\"input\" value=\"Login\"/>\n    </form>\n</template>\n\n<script>\nimport gql from 'graphql-tag'\nimport {extractErrors} from \"../helpers\";\nimport {setAuthToken} from \"../auth\";\n\nexport default {\n    name: \"Login\",\n    data() {\n        return {\n            email: null,\n            password: null,\n            loading: false\n        }\n    },\n    methods: {\n        login() {\n            this.loading = true;\n            this.$apollo.mutate(\n                {\n                    mutation: gql`\n                        mutation ($input: LoginInput){\n                          login(input: $input){\n                            access_token\n                          }\n                        }\n                    `,\n                    variables: {\n                        input: {\n                            username: this.email,\n                            password: this.password\n                        }\n                    }\n                }\n            ).then(({data}) => {\n                setAuthToken(data.login.access_token)\n                this.$root.$emit('loggedIn')\n                this.$router.push({name: 'team-fight-dashboard'})\n            }).catch(({graphQLErrors}) => {\n                this.$buefy.snackbar.open(\n                    {\n                        duration: 6000,\n                        type: 'is-danger',\n                        message: `Forkert brugernavn eller adgangskode.`\n                    })\n            }).finally(() => {\n                this.loading = false\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"form\",\n    {\n      on: {\n        submit: function($event) {\n          $event.preventDefault()\n          return _vm.login($event)\n        }\n      }\n    },\n    [\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Email\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { type: \"email\" },\n            model: {\n              value: _vm.email,\n              callback: function($$v) {\n                _vm.email = $$v\n              },\n              expression: \"email\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Adgangskode\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { type: \"password\" },\n            model: {\n              value: _vm.password,\n              callback: function($$v) {\n                _vm.password = $$v\n              },\n              expression: \"password\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"b-button\", {\n        attrs: {\n          loading: _vm.loading,\n          \"native-type\": \"submit\",\n          tag: \"input\",\n          value: \"Login\"\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export function chunk(array, size) {\n    const chunked_arr = [];\n    for (let i = 0; i < array.length; i++) {\n        const last = chunked_arr[chunked_arr.length - 1];\n        if (!last || last.length === size) {\n            chunked_arr.push([array[i]]);\n        } else {\n            last.push(array[i]);\n        }\n    }\n    return chunked_arr;\n}\n\nexport function defaultIfUndefined(test, defaultValue) {\n    if (test === undefined) {\n        return defaultValue\n    }\n    return test\n}\n\nexport function debounce(fn, delay) {\n    let timeoutID = null\n    return function () {\n        clearTimeout(timeoutID)\n        const args = arguments;\n        const that = this;\n        timeoutID = setTimeout(function () {\n            fn.apply(that, args)\n        }, delay)\n    }\n}\n\nexport function findPlayersInCategory(categories, searchCategory, gender) {\n    const players = [];\n    for (let categoryItem of categories) {\n        if (categoryItem.category === searchCategory) {\n            for (let player of categoryItem.players) {\n                if (player.gender === gender) {\n                    players.push(player)\n                }\n            }\n        }\n    }\n    return players;\n}\n\nexport function findLevel(member, category) {\n    if (!member.points) {\n        return 0\n    }\n    for (let point of member.points) {\n        if (category === 'MD') {\n            if (member.gender === 'M' && point.category === 'MxH') {\n                return point.points\n            }\n            if (member.gender === 'K' && point.category === 'MxD') {\n                return point.points\n            }\n        }\n        if (point.category === category) {\n            return point.points\n        }\n    }\n    return 0\n}\n\nexport function findPositions(member) {\n    if (!member.points) {\n        return ''\n    }\n    let summary = []\n    for (let point of member.points) {\n        if (point.category === null && point.points !== null) {\n            summary.push('N:' + point.points)\n        }\n//                if (point.category === 'HS') {\n//                    summary.push('HS:' + point.points)\n//                }\n//                if (point.category === 'HD') {\n//                    summary.push('HD:' + point.points)\n//                }\n//                if (point.category === 'DS') {\n//                    summary.push('DS:' + point.points)\n//                }\n//                if (point.category === 'MxH') {\n//                    summary.push('MxH:' + point.points)\n//                }\n//                if (point.category === 'MxD') {\n//                    summary.push('MxD:' + point.points)\n//                }\n    }\n    return '(' + summary.join(', ') + ')'\n}\n\nexport function extractErrors(graphqlErrors) {\n    let errors = [];\n    for (let graphqlError of graphqlErrors) {\n        if (graphqlError.extensions.category === 'validation') {\n            for (let validationKey in graphqlError.extensions.validation) {\n                for (let error of graphqlError.extensions.validation[validationKey]) {\n                    errors.push(error)\n                }\n            }\n        }\n    }\n    return errors;\n}\n","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=12f5395a&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12f5395a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/daniel/projects/holdkamp/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('12f5395a')) {\n      api.createRecord('12f5395a', component.options)\n    } else {\n      api.reload('12f5395a', component.options)\n    }\n    module.hot.accept(\"./Login.vue?vue&type=template&id=12f5395a&scoped=true&\", function () {\n      api.rerender('12f5395a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/Login.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=template&id=12f5395a&scoped=true&\""],"sourceRoot":""}