(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"8Vt7":function(n,t,e){"use strict";e.r(t);var a=e("lTCR"),i=e.n(a),o=e("j0+K");function r(){var n=function(n,t){t||(t=n.slice(0));return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}(["\n                        mutation ($input: LoginInput){\n                          login(input: $input){\n                            access_token\n                          }\n                        }\n                    "]);return r=function(){return n},n}var s={name:"Login",data:function(){return{email:null,password:null,loading:!1}},props:{afterLogin:Function},methods:{login:function(){var n=this;this.loading=!0,this.$apollo.mutate({mutation:i()(r()),variables:{input:{username:this.email,password:this.password}}}).then((function(t){var e=t.data;Object(o.d)(e.login.access_token),n.$root.$emit("loggedIn"),n.afterLogin instanceof Function?n.afterLogin():n.$router.push({name:"team-fight-dashboard"})})).catch((function(t){t.graphQLErrors;n.$buefy.snackbar.open({duration:6e3,type:"is-danger",message:"Forkert brugernavn eller adgangskode."})})).finally((function(){n.loading=!1}))}}},l=e("KHd+"),u=Object(l.a)(s,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("form",{staticClass:"mt-2",on:{submit:function(t){return t.preventDefault(),n.login(t)}}},[e("b-field",{attrs:{label:"Email"}},[e("b-input",{attrs:{type:"email"},model:{value:n.email,callback:function(t){n.email=t},expression:"email"}})],1),n._v(" "),e("b-field",{attrs:{label:"Adgangskode"}},[e("b-input",{attrs:{type:"password"},model:{value:n.password,callback:function(t){n.password=t},expression:"password"}})],1),n._v(" "),e("b-button",{attrs:{loading:n.loading,"native-type":"submit"}},[n._v("Login")])],1)}),[],!1,null,"b2e23c82",null);t.default=u.exports}}]);