(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Yfz1:function(n,t,e){"use strict";function a(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return r(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var a=0,o=function(){};return{s:o,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return l=n.done,n},e:function(n){s=!0,i=n},f:function(){try{l||null==e.return||e.return()}finally{if(s)throw i}}}}function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function o(n,t){for(var e=[],a=0;a<n.length;a++){var r=e[e.length-1];r&&r.length!==t?r.push(n[a]):e.push([n[a]])}return e}function i(n,t){return void 0===n?t:n}function l(n,t){var e=null;return function(){clearTimeout(e);var a=arguments,r=this;e=setTimeout((function(){n.apply(r,a)}),t)}}function s(n,t,e){var r,o=[],i=a(n);try{for(i.s();!(r=i.n()).done;){var l=r.value;if(l.category===t){var s,u=a(l.players);try{for(u.s();!(s=u.n()).done;){var c=s.value;c.gender===e&&o.push(c)}}catch(n){u.e(n)}finally{u.f()}}}}catch(n){i.e(n)}finally{i.f()}return o}function u(n,t){if(!n.points)return 0;var e,r=a(n.points);try{for(r.s();!(e=r.n()).done;){var o=e.value;if("MD"===t){if("M"===n.gender&&"MxH"===o.category)return o.points;if("K"===n.gender&&"MxD"===o.category)return o.points}if(o.category===t)return o.points}}catch(n){r.e(n)}finally{r.f()}return 0}function c(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";if(!n.points)return"";var e,r=[],o=a(n.points);try{for(o.s();!(e=o.n()).done;){var i=e.value;null!==i.category||null===i.points||"all"!==t&&"N"!==t||r.push("N:"+i.points),"HS"!==i.category||"all"!==t&&"HS"!==t||r.push("HS:"+i.points),"HD"!==i.category||"all"!==t&&"HD"!==t||r.push("HD:"+i.points),"DS"!==i.category||"all"!==t&&"DS"!==t||r.push("DS:"+i.points),"DD"!==i.category||"all"!==t&&"DD"!==t||r.push("DD:"+i.points),"MxH"!==i.category||"M"!==n.gender||"all"!==t&&"MD"!==t||r.push("MxH:"+i.points),"MxD"!==i.category||"K"!==n.gender||"all"!==t&&"MD"!==t||r.push("MxD:"+i.points)}}catch(n){o.e(n)}finally{o.f()}return r.join(", ")}function f(n){var t,e=[],r=a(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;if("validation"===o.extensions.category)for(var i in o.extensions.validation){var l,s=a(o.extensions.validation[i]);try{for(s.s();!(l=s.n()).done;){var u=l.value;e.push(u)}}catch(n){s.e(n)}finally{s.f()}}}}catch(n){r.e(n)}finally{r.f()}return e}function d(n,t){return void 0!==n.find((function(n){return n.id===t.id}))}function p(n,t){return void 0!==n.find((function(n){return n.name===t.name}))}function v(n,t,e){var a=n[t],r=n[e];n[e]=a,n[t]=r}e.d(t,"a",(function(){return o})),e.d(t,"c",(function(){return i})),e.d(t,"b",(function(){return l})),e.d(t,"f",(function(){return s})),e.d(t,"e",(function(){return u})),e.d(t,"g",(function(){return c})),e.d(t,"d",(function(){return f})),e.d(t,"h",(function(){return d})),e.d(t,"i",(function(){return p})),e.d(t,"j",(function(){return v}))},ekqo:function(n,t,e){"use strict";e.r(t);var a=e("lTCR"),r=e.n(a),o=e("Yfz1");function i(){var n=function(n,t){t||(t=n.slice(0));return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}(["\n                query($page: Int!){\n                    logs(page: $page){\n                        paginatorInfo{\n                            total\n                            lastPage\n                        }\n                        data{\n                            id\n                            log\n                            component\n                            createdAt\n                        }\n                    }\n                }\n            "]);return i=function(){return n},n}var l={name:"MemberList",data:function(){return{page:1,logs:{data:[],paginatorInfo:{}},polling:2e3}},apollo:{logs:{query:r()(i()),pollInterval:2e3,variables:function(){return{page:this.page}}}},methods:{onPageChange:function(n){this.page=n}}},s=e("KHd+");function u(){var n=d(["\n                query($page: Int!, $name: String, $orderBy: [MembersOrderByOrderByClause!]){\n                    members(page: $page, name: $name, orderBy: $orderBy){\n                        paginatorInfo{\n                          total\n                        }\n                        data{\n                          id\n                          name\n                          refId\n                          points{\n                            points\n                            position\n                            category\n                          }\n                        }\n                      }\n                }\n            "]);return u=function(){return n},n}function c(){var n=d(["\n                query{\n                    me{\n                        id\n                        club{\n                            name1\n                        }\n                    }\n                }"]);return c=function(){return n},n}function f(){var n=d(["\n                query{\n                    clubStats{\n                        players\n                        womenPlayers\n                        menPlayers\n                    }\n                }\n            "]);return f=function(){return n},n}function d(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var p={name:"ClubDashboard",components:{MemberList:Object(s.a)(l,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("fragment",[e("h1",{staticClass:"title"},[n._v("Hændelseslog")]),n._v(" "),e("h2",{staticClass:"subtitle"},[n._v("Følge med i hvordan systemet synkroniser med data fra badmintonplayer.dk")]),n._v(" "),e("b-table",{staticClass:"mb-3",attrs:{data:n.logs.data,loading:n.$apollo.queries.logs.loading,"per-page":10,total:n.logs.paginatorInfo.total,"backend-pagination":"",paginated:""},on:{"page-change":n.onPageChange}},[e("b-table-column",{attrs:{field:"log",label:"Log"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n            "+n._s(t.row.log)+"\n        ")]}}])}),n._v(" "),e("b-table-column",{attrs:{field:"component",label:"Komponent"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n            "+n._s(t.row.component)+"\n        ")]}}])}),n._v(" "),e("b-table-column",{attrs:{field:"createdAt",label:"Tidspunkt"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n            "+n._s(t.row.createdAt)+"\n        ")]}}])})],1)],1)}),[],!1,null,null,null).exports},apollo:{clubStats:{query:r()(f())},me:{query:r()(c())},members:{query:r()(u()),variables:function(){return{name:"%"+this.name+"%",orderBy:[{column:"NAME",order:"ASC"}],page:this.page}}}},data:function(){return{name:"",page:0,members:{data:[],paginatorInfo:{total:0}},columns:[{field:"id",label:"ID",width:40,numeric:!0},{field:"name",label:"Navn"},{field:"refId",label:"Badminton ID"}]}},methods:{setName:Object(o.b)((function(n){this.name=n}),200),levelPoints:function(n,t){return this.groupBy(n,t)},groupBy:function(n,t){return n.reduce((function(n,e){return(n[e[t]]=n[e[t]]||[]).push(e),n}),{})},onPageChange:function(n){this.page=n}}},v=Object(s.a)(p,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[n.$apollo.queries.me.loading?n._e():e("h1",{staticClass:"title"},[n._v(n._s(n.me.club.name1))]),n._v(" "),e("h2",{staticClass:"subtitle"},[n._v("Stamdata omkring klubben")]),n._v(" "),n.$apollo.queries.clubStats.loading?n._e():e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column"},[e("div",{staticClass:"box notification is-primary"},[e("div",{staticClass:"heading"},[n._v("Spiller")]),n._v(" "),e("div",{staticClass:"title"},[n._v(n._s(n.clubStats.players))]),n._v(" "),e("div",{staticClass:"level"},[e("div",{staticClass:"level-item"},[e("div",{},[e("div",{staticClass:"heading"},[n._v("Mand")]),n._v(" "),e("div",{staticClass:"title is-5"},[n._v(n._s(n.clubStats.menPlayers))])])]),n._v(" "),e("div",{staticClass:"level-item"},[e("div",{},[e("div",{staticClass:"heading"},[n._v("Kvinder")]),n._v(" "),e("div",{staticClass:"title is-5"},[n._v(n._s(n.clubStats.womenPlayers))])])])])])])]),n._v(" "),e("h1",{staticClass:"title"},[n._v("Medlemmer")]),n._v(" "),e("b-field",{attrs:{label:"Søg på navn"}},[e("b-input",{attrs:{expanded:""},on:{input:n.setName}})],1),n._v(" "),e("b-table",{attrs:{data:n.members.data,loading:n.$apollo.queries.members.loading,"per-page":20,total:n.members.paginatorInfo.total,"backend-pagination":"",paginated:""},on:{"page-change":n.onPageChange}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n            "+n._s(t.row.id)+"\n        ")]}}])}),n._v(" "),e("b-table-column",{attrs:{field:"name",label:"Navn"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n            "+n._s(t.row.name)+"\n        ")]}}])}),n._v(" "),e("b-table-column",{attrs:{field:"refId",label:"Badminton ID"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n            "+n._s(t.row.refId)+"\n        ")]}}])}),n._v(" "),e("b-table-column",{attrs:{field:"points",label:"Niveau Position"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n            "+n._s(n.levelPoints(t.row.points,"category").null[0].position)+"\n        ")]}}])}),n._v(" "),e("b-table-column",{attrs:{label:""},scopedSlots:n._u([{key:"default",fn:function(t){return[e("b-button",{attrs:{to:"/player-stats/"+t.row.refId,size:"is-small",tag:"router-link",type:"is-link"}},[n._v("Stats")])]}}])})],1),n._v(" "),e("MemberList")],1)}),[],!1,null,null,null);t.default=v.exports}}]);