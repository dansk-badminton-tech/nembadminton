/*! For license information please see 5.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+0iv":function(e,t,n){"use strict";var a=n("qDJ8");function r(e){return!0===a(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==r(e)&&("function"==typeof(t=e.constructor)&&(!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},"/9Ld":function(e,t,n){"use strict";var a=n("+0iv"),r=n("y7tx");e.exports=function e(t,n){if(void 0===t)return{};if(Array.isArray(t)){for(var i=0;i<t.length;i++)t[i]=e(t[i],n);return t}if(!a(t))return t;if("string"==typeof n&&(n=[n]),!Array.isArray(n))return t;for(var o=0;o<n.length;o++)r(t,n[o]);for(var l in t)t.hasOwnProperty(l)&&(t[l]=e(t[l],n));return t}},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"4Mh8":function(e,t,n){"use strict";var a=n("QJcz"),r=n("ghPl"),i=n("jO/C");e.exports=function(e,t,n){return a(e)?r(i(e,t),n):r(e,t)}},HG3K:function(e,t,n){"use strict";var a=n("lTCR");function r(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                query($input: BadmintonPlayerTeamsInput){\n                    badmintonPlayerTeams(input: $input){\n                        leagueGroupId\n                        ageGroupId\n                        name\n                        league\n                    }\n                }\n            "]);return r=function(){return e},e}var i={name:"BadmintonPlayerTeams",props:["value","clubId","season"],methods:{handleInput:function(e){this.$emit("input",e)}},apollo:{badmintonPlayerTeams:{query:n.n(a)()(r()),variables:function(){return{input:{clubId:this.clubId,season:this.season}}},skip:function(){return null===this.clubId||null===this.season}}}},o=n("KHd+"),l=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-select",{attrs:{loading:e.$apollo.queries.badmintonPlayerTeams.loading,expanded:"",placeholder:"Vælge hold"},on:{input:e.handleInput}},e._l(e.badmintonPlayerTeams,(function(t){return n("option",{key:t.leagueGroupID,domProps:{value:t}},[e._v("\n        "+e._s(t.name)+" - "+e._s(t.league)+"\n    ")])})),0)}),[],!1,null,"f7f8c430",null);t.a=l.exports},Ii3d:function(e,t,n){"use strict";var a=n("lTCR");function r(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                query {\n                 clubs{\n                    id\n                    name1\n                  }\n                }\n               "]);return r=function(){return e},e}var i={name:"BadmintonPlayerClubs",props:["value"],methods:{handleInput:function(e){this.$emit("input",e)}},apollo:{clubs:{query:n.n(a)()(r())}}},o=n("KHd+"),l=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-select",{attrs:{loading:e.$apollo.queries.clubs.loading,expanded:"",placeholder:"Vælge klub"},on:{input:e.handleInput}},e._l(e.clubs,(function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n        "+e._s(t.name1)+"\n    ")])})),0)}),[],!1,null,null,null);t.a=l.exports},NSSF:function(e,t,n){"use strict";var a=n("lTCR");function r(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                query($input: BadmintonPlayerTeamFightsInput){\n                    badmintonPlayerTeamFights(input: $input){\n                        teams\n                        matchId\n                        gameTime\n                    }\n                }\n            "]);return r=function(){return e},e}var i={name:"BadmintonPlayerTeamFights",props:["value","clubId","season","playerTeam"],methods:{handleInput:function(e){this.$emit("input",e,this.playerTeam)}},apollo:{badmintonPlayerTeamFights:{query:n.n(a)()(r()),variables:function(){return{input:{clubId:this.clubId,season:this.season,ageGroupId:this.playerTeam.ageGroupId,leagueGroupId:this.playerTeam.leagueGroupId,clubName:this.playerTeam.name}}},skip:function(){return null===this.playerTeam}}}},o=n("KHd+"),l=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-select",{attrs:{loading:e.$apollo.queries.badmintonPlayerTeamFights.loading,expanded:"",placeholder:"Vælge kamp"},on:{input:e.handleInput}},e._l(e.badmintonPlayerTeamFights,(function(t){return n("option",{key:t.matchId,domProps:{value:t}},[e._v("\n        "+e._s(t.gameTime)+" - "+e._s(t.teams.join(" - "))+"\n    ")])})),0)}),[],!1,null,"4097bf0a",null);t.a=l.exports},QJcz:function(e,t,n){"use strict";var a=n("49sm");e.exports=function(e){return null!=e&&"object"==typeof e&&!1===a(e)}},Yfz1:function(e,t,n){"use strict";function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t){for(var n=[],a=0;a<e.length;a++){var r=n[n.length-1];r&&r.length!==t?r.push(e[a]):n.push([e[a]])}return n}function o(e,t){return void 0===e?t:e}function l(e,t){var n=null;return function(){clearTimeout(n);var a=arguments,r=this;n=setTimeout((function(){e.apply(r,a)}),t)}}function u(e,t,n){var r,i=[],o=a(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(l.category===t){var u,s=a(l.players);try{for(s.s();!(u=s.n()).done;){var c=u.value;c.gender===n&&i.push(c)}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){o.e(e)}finally{o.f()}return i}function s(e,t){if(!e.points)return 0;var n,r=a(e.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("MD"===t){if("M"===e.gender&&"MxH"===i.category)return i.points;if("K"===e.gender&&"MxD"===i.category)return i.points}if(i.category===t)return i.points}}catch(e){r.e(e)}finally{r.f()}return 0}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";if(!e.points)return"";var n,r=[],i=a(e.points);try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.category||null===o.points||"all"!==t&&"N"!==t||r.push("N:"+o.points),"HS"!==o.category||"all"!==t&&"HS"!==t||r.push("HS:"+o.points),"HD"!==o.category||"all"!==t&&"HD"!==t||r.push("HD:"+o.points),"DS"!==o.category||"all"!==t&&"DS"!==t||r.push("DS:"+o.points),"DD"!==o.category||"all"!==t&&"DD"!==t||r.push("DD:"+o.points),"MxH"!==o.category||"M"!==e.gender||"all"!==t&&"MD"!==t||r.push("MxH:"+o.points),"MxD"!==o.category||"K"!==e.gender||"all"!==t&&"MD"!==t||r.push("MxD:"+o.points)}}catch(e){i.e(e)}finally{i.f()}return r.join(", ")}function f(e){var t,n=[],r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("validation"===i.extensions.category)for(var o in i.extensions.validation){var l,u=a(i.extensions.validation[o]);try{for(u.s();!(l=u.n()).done;){var s=l.value;n.push(s)}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){r.e(e)}finally{r.f()}return n}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return f}))},ghPl:function(e,t,n){"use strict";e.exports=function(e,t){if(null==e)return!1;if("boolean"==typeof e)return!0;if("number"==typeof e)return 0!==e||!0!==t;if(void 0!==e.length)return 0!==e.length;for(var n in e)if(e.hasOwnProperty(n))return!0;return!1}},"jO/C":function(e,t){function n(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,t,a,r,i){if(null===(o=e)||"object"!=typeof o&&"function"!=typeof o||!t)return e;var o;if(t=n(t),a&&(t+="."+n(a)),r&&(t+="."+n(r)),i&&(t+="."+n(i)),t in e)return e[t];for(var l=t.split("."),u=l.length,s=-1;e&&++s<u;){for(var c=l[s];"\\"===c[c.length-1];)c=c.slice(0,-1)+"."+l[++s];e=e[c]}return e}},neky:function(e,t,n){"use strict";n.r(t);var a=n("Ii3d"),r=n("HG3K"),i=n("NSSF"),o=n("lTCR"),l=n.n(o),u=n("/9Ld"),s=n.n(u),c=n("Yfz1");function f(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                query($input: BadmintonPlayerTeamsInput){\n                    badmintonPlayerTeams(input: $input){\n                        leagueGroupId\n                        ageGroupId\n                        name\n                        league\n                    }\n                }\n            "]);return f=function(){return e},e}var p={name:"BadmintonPlayerTeamsMultiSelect",props:["value","clubId","season"],watch:{teams:function(e,t){this.$emit("input",e)}},data:function(){return{columns:[{field:"name",label:"Navn"},{field:"league",label:"Række"}],teams:[]}},apollo:{badmintonPlayerTeams:{query:l()(f()),result:function(e,t){this.teams=[]},variables:function(){return{input:{clubId:this.clubId,season:this.season}}},skip:function(){return null===this.clubId||null===this.season}}}},d=n("KHd+"),m=Object(d.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-table",{attrs:{"checked-rows":e.teams,columns:e.columns,data:e.badmintonPlayerTeams,loading:e.$apollo.queries.badmintonPlayerTeams.loading,checkable:""},on:{"update:checkedRows":function(t){e.teams=t},"update:checked-rows":function(t){e.teams=t}},scopedSlots:e._u([{key:"empty",fn:function(){return[n("div",{staticClass:"has-text-centered"},[e._v("Ingen hold fundet. Har du valgt den rigtige sæson og klub?")])]},proxy:!0}])})}),[],!1,null,"1db34946",null).exports,h=n("MQ60"),b=n.n(h);function v(){var e=y(["mutation validateTeamMatch($input: [ValidateTeam!]!){\n                      validateTeamMatch(input: $input){\n                        name\n                        id\n                      }\n                    }\n                    "]);return v=function(){return e},e}function g(){var e=y(["mutation ($input: BadmintonPlayerTeamMatchInput!){\n                        badmintonPlayerTeamMatchesImport(input: $input){\n                            name\n                            squad{\n                              playerLimit\n                              categories{\n                                category\n                                name\n                                players{\n                                  refId\n                                  name\n                                  gender\n                                  points{\n                                    points\n                                    position\n                                    category\n                                    version\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                    "]);return g=function(){return e},e}function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={name:"CheckTeamFight",components:{BadmintonPlayerTeamsMultiSelect:m,BadmintonPlayerTeamFights:i.a,BadmintonPlayerTeams:r.a,BadmintonPlayerClubs:a.a,Draggable:b.a},data:function(){return{clubId:null,playerTeams:[],season:null,teamFight:null,selectedTeamMatches:[],teams:[],playingToHigh:[],playingToHighInSquad:[],rankingList:null,activeStep:0,fetchingAndValidating:!1,done:!1}},methods:{nextStep:function(){this.activeStep=1},highlight:function(e){var t={};return this.playingToHigh.find((function(t){return t.name===e.name}))&&(t=_(_({},{"has-background-warning":!0}),t)),this.playingToHighInSquad.find((function(t){return t.name===e.name}))&&(t=_(_({},{"has-background-danger":!0}),t)),t},findPositions:c.g,badmintonPlayerTeamMatchesImport:function(){var e=this;this.fetchingAndValidating=!0,this.$apollo.mutate({mutation:l()(g()),variables:{input:{clubId:parseInt(this.clubId),leagueMatchIds:this.selectedTeamMatches.map((function(e){return e.teamMatch.matchId})),season:parseInt(this.season),version:this.rankingList}}}).then((function(t){var n=t.data;e.teams=n.badmintonPlayerTeamMatchesImport,e.validate()})).catch((function(){e.fetchingAndValidating=!1}))},validate:function(){var e=this;this.$apollo.mutate({mutation:l()(v()),variables:{input:s()(this.teams,["__typename"])}}).then((function(t){var n=t.data;e.playingToHigh=n.validateTeamMatch,e.done=!0})).finally((function(){e.fetchingAndValidating=!1}))},addTeamFight:function(e,t){this.selectedTeamMatches.push({teamMatch:e,team:t})},goToStart:function(){this.done=!1,this.activeStep=0},goToStepTeamsStep:function(){null!==this.clubId&&null!==this.season&&(this.activeStep=1)},clearTeams:function(){this.playerTeams=[]},clearTeamFights:function(){this.selectedTeamMatches=[]}}},j=Object(d.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("b-loading",{attrs:{"is-full-page":!0},model:{value:this.fetchingAndValidating,callback:function(t){e.$set(this,"fetchingAndValidating",t)},expression:"this.fetchingAndValidating"}}),e._v(" "),e.done?e._e():n("form",[n("b-steps",{model:{value:e.activeStep,callback:function(t){e.activeStep=t},expression:"activeStep"}},[[n("b-step-item",{attrs:{label:"Basis"}},[n("b-field",{attrs:{label:"Klub"}},[n("BadmintonPlayerClubs",{on:{input:e.clearTeams},model:{value:e.clubId,callback:function(t){e.clubId=t},expression:"clubId"}})],1),e._v(" "),n("b-field",{attrs:{label:"Sæson"}},[n("b-select",{attrs:{expanded:"",placeholder:"Vælge sæson"},on:{input:e.goToStepTeamsStep},model:{value:e.season,callback:function(t){e.season=t},expression:"season"}},[n("option",{attrs:{value:"2020"}},[e._v("2019/2020")]),e._v(" "),n("option",{attrs:{value:"2021"}},[e._v("2021/2022")])])],1)],1),e._v(" "),n("b-step-item",{attrs:{label:"Hold"}},[n("BadmintonPlayerTeamsMultiSelect",{attrs:{clubId:e.clubId,season:e.season},on:{input:e.clearTeamFights},model:{value:e.playerTeams,callback:function(t){e.playerTeams=t},expression:"playerTeams"}})],1),e._v(" "),n("b-step-item",{attrs:{label:"Kampe"}},[n("b-field",{attrs:{label:"Rangliste"}},[n("b-select",{attrs:{expanded:"",placeholder:"Vælge rangliste"},model:{value:e.rankingList,callback:function(t){e.rankingList=t},expression:"rankingList"}},[n("option",{attrs:{value:"2021-07-01"}},[e._v("2021-07-01")]),e._v(" "),n("option",{attrs:{value:"2020-12-01"}},[e._v("2020-12-01")]),e._v(" "),n("option",{attrs:{value:"2020-11-01"}},[e._v("2020-11-01")]),e._v(" "),n("option",{attrs:{value:"2020-10-01"}},[e._v("2020-10-01")]),e._v(" "),n("option",{attrs:{value:"2020-09-01"}},[e._v("2020-09-01")]),e._v(" "),n("option",{attrs:{value:"2020-08-01"}},[e._v("2020-08-01")]),e._v(" "),n("option",{attrs:{value:"2020-07-01"}},[e._v("2020-07-01")])])],1),e._v(" "),n("draggable",{attrs:{list:e.playerTeams,handle:".handle"}},e._l(e.playerTeams,(function(t){return n("b-field",{key:t.leagueGroupId+e.playerTeams.length,attrs:{label:t.name}},[n("b-icon",{staticClass:"handle mr-2",attrs:{icon:"align-justify"}}),e._v(" "),n("BadmintonPlayerTeamFights",{attrs:{clubId:e.clubId,"player-team":t,season:e.season},on:{input:e.addTeamFight}})],1)})),1)],1),e._v(" "),n("b-step-item",{attrs:{label:"Bekræft"}},[n("b-field",{attrs:{label:"Rangliste"}},[n("b-input",{attrs:{disabled:""},model:{value:e.rankingList,callback:function(t){e.rankingList=t},expression:"rankingList"}})],1),e._v(" "),n("b-table",{attrs:{data:e.selectedTeamMatches}},[n("b-table-column",{attrs:{field:"team.name",label:"Hold"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.team.name)+"\n                        ")]}}],null,!1,2163058057)}),e._v(" "),n("b-table-column",{attrs:{field:"team.name",label:"Kamp"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.teamMatch.gameTime)+" - "+e._s(t.row.teamMatch.teams.join(" - "))+"\n                        ")]}}],null,!1,4278630860)})],1),e._v(" "),n("b-button",{attrs:{size:"is-large mt-2"},on:{click:e.badmintonPlayerTeamMatchesImport}},[e._v("Hent og tjek")])],1)]],2)],1),e._v(" "),e.done?n("b-button",{on:{click:e.goToStart}},[e._v("Tilbage til start")]):e._e(),e._v(" "),e.done?n("div",{staticClass:"columns is-multiline"},e._l(e.teams,(function(t){return n("div",{staticClass:"column is-4"},[n("h1",{staticClass:"title"},[e._v(e._s(t.name))]),e._v(" "),n("b-table",{attrs:{data:t.squad.categories}},[n("b-table-column",{attrs:{field:"name",label:"Kategori"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.name)+"\n                ")]}}],null,!0)}),e._v(" "),n("b-table-column",{attrs:{field:"players",label:"Spillere"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.players,(function(a){return n("p",{class:e.highlight(a)},[e._v(e._s(a.name)+" ("+e._s(e.findPositions(a,"N")+" "+e.findPositions(a,t.row.category))+")")])}))}}],null,!0)})],1)],1)})),0):e._e()],1)}),[],!1,null,"0459afd7",null);t.default=j.exports},qDJ8:function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},y7tx:function(e,t,n){"use strict";var a=n("qDJ8"),r=n("4Mh8");e.exports=function(e,t){if(!a(e))throw new TypeError("expected an object.");if(e.hasOwnProperty(t))return delete e[t],!0;if(r(e,t)){for(var n=t.split("."),i=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)i=n.pop().slice(0,-1)+"."+i;for(;n.length;)e=e[t=n.shift()];return delete e[i]}return!0}}}]);