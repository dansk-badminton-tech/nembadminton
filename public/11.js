(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{HG3K:function(e,t,n){"use strict";var a=n("lTCR");function l(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                query($input: BadmintonPlayerTeamsInput){\n                    badmintonPlayerTeams(input: $input){\n                        leagueGroupId\n                        ageGroupId\n                        name\n                        league\n                    }\n                }\n            "]);return l=function(){return e},e}var i={name:"BadmintonPlayerTeams",props:["value","clubId","season"],methods:{handleInput:function(e){this.$emit("input",e)}},apollo:{badmintonPlayerTeams:{query:n.n(a)()(l()),variables:function(){return{input:{clubId:this.clubId,season:this.season}}},skip:function(){return null===this.clubId||null===this.season}}}},r=n("KHd+"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-select",{attrs:{loading:e.$apollo.queries.badmintonPlayerTeams.loading,expanded:"",placeholder:"Vælge hold"},on:{input:e.handleInput}},e._l(e.badmintonPlayerTeams,(function(t){return n("option",{key:t.leagueGroupID,domProps:{value:t}},[e._v("\n        "+e._s(t.name)+" - "+e._s(t.league)+"\n    ")])})),0)}),[],!1,null,"f7f8c430",null);t.a=s.exports},Ii3d:function(e,t,n){"use strict";var a=n("lTCR");function l(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                query {\n                 clubs{\n                    id\n                    name1\n                  }\n                }\n               "]);return l=function(){return e},e}var i={name:"BadmintonPlayerClubs",props:["value"],methods:{handleInput:function(e){this.$emit("input",e)}},apollo:{clubs:{query:n.n(a)()(l())}}},r=n("KHd+"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-select",{attrs:{loading:e.$apollo.queries.clubs.loading,expanded:"",placeholder:"Vælge klub"},on:{input:e.handleInput}},e._l(e.clubs,(function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n        "+e._s(t.name1)+"\n    ")])})),0)}),[],!1,null,null,null);t.a=s.exports},NSSF:function(e,t,n){"use strict";var a=n("lTCR");function l(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                query($input: BadmintonPlayerTeamFightsInput){\n                    badmintonPlayerTeamFights(input: $input){\n                        teams\n                        matchId\n                        gameTime\n                    }\n                }\n            "]);return l=function(){return e},e}var i={name:"BadmintonPlayerTeamFights",props:["value","clubId","season","playerTeam"],methods:{handleInput:function(e){this.$emit("input",e,this.playerTeam)}},apollo:{badmintonPlayerTeamFights:{query:n.n(a)()(l()),variables:function(){return{input:{clubId:this.clubId,season:this.season,ageGroupId:this.playerTeam.ageGroupId,leagueGroupId:this.playerTeam.leagueGroupId,clubName:this.playerTeam.name}}},skip:function(){return null===this.playerTeam}}}},r=n("KHd+"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-select",{attrs:{loading:e.$apollo.queries.badmintonPlayerTeamFights.loading,expanded:"",placeholder:"Vælge kamp"},on:{input:e.handleInput}},e._l(e.badmintonPlayerTeamFights,(function(t){return n("option",{key:t.matchId,domProps:{value:t}},[e._v("\n        "+e._s(t.gameTime)+" - "+e._s(t.teams.join(" - "))+"\n    ")])})),0)}),[],!1,null,"4097bf0a",null);t.a=s.exports},RZhT:function(e,t,n){"use strict";n.r(t);var a=n("lTCR"),l=n.n(a),i=n("Ii3d"),r=n("HG3K");function s(){var e=c(["\n                        mutation badmintonPlayerTeamMatchImport($importInput: TeamMatchImportInput) {\n                          badmintonPlayerTeamMatchImport(input: $importInput)\n                        }"]);return s=function(){return e},e}function o(){var e=c(["\n                        query badmintonPlayerTeamMatch($badmintonInput: BadmintonPlayerTeamMatchInput) {\n                          badmintonPlayerTeamMatch(input: $badmintonInput) {\n                            guest {\n                              ...matcheClub\n                            }\n                            home{\n                              ...matcheClub\n                            }\n                          }\n                        }\n                        fragment matcheClub on ImportTeam {\n                              name\n                              squad {\n                                playerLimit\n                                categories {\n                                  category\n                                  name\n                                  players {\n                                    name\n                                  }\n                                }\n                              }\n                        }"]);return o=function(){return e},e}function u(){var e=c([" query ($id: ID!){\n                  team(id: $id){\n                    id\n                    version\n                    gameDate\n                  }\n                }"]);return u=function(){return e},e}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m={name:"TeamFightImport",components:{BadmintonPlayerTeamFights:n("NSSF").a,BadmintonPlayerTeams:r.a,BadmintonPlayerClubs:i.a},props:{teamFightId:String},data:function(){return{gameDate:null,clubId:null,leagueMatchId:null,season:null,version:null,skipPlayers:!0,importing:!1,fetchingTeamMatch:!1,badmintonPlayerTeamMatch:!1,playerTeam:null,teamFight:null}},apollo:{team:{query:l()(u()),variables:function(){return{id:this.teamFightId}},fetchPolicy:"network-only",result:function(e){var t=e.data,n=new Date(t.team.version);this.version=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),n=new Date(t.team.gameDate),this.gameDate=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}}},methods:{fetchPlayers:function(){var e=this;this.fetchingTeamMatch=!0,this.$apollo.query({query:l()(o()),variables:{badmintonInput:{clubId:this.clubId,leagueMatchId:this.teamFight.matchId,season:this.season,version:this.version}}}).then((function(t){var n=t.data;e.badmintonPlayerTeamMatch=n.badmintonPlayerTeamMatch})).catch((function(t){e.$buefy.snackbar.open({duration:4e3,type:"is-dagner",message:"Kunne ikke hente kamp"})})).finally((function(){e.fetchingTeamMatch=!1}))},importTeam:function(e){var t=this;this.importing=!0,this.$apollo.mutate({mutation:l()(s()),variables:{importInput:{team:this.teamFightId,badmintonPlayerTeamMatch:{clubId:this.clubId,leagueMatchId:this.teamFight.matchId,season:this.season,version:this.version},side:e}}}).then((function(e){e.data;t.resetTeamMatch(),t.$buefy.snackbar.open({duration:4e3,type:"is-success",message:"Importering færdig"})})).catch((function(e){t.$buefy.snackbar.open({duration:4e3,type:"is-dagner",message:"Kunne ikke importer"})})).finally((function(){t.importing=!1}))},resetTeamMatch:function(){this.badmintonPlayerTeamMatch=!1},resetAll:function(){this.playerTeam=null,this.teamFight=null,this.resetTeamMatch()}}},d=n("KHd+"),p=Object(d.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("b-button",{attrs:{tag:"router-link",type:"is-link",to:"/team-fight/"+this.teamFightId+"/edit"}},[e._v("\n        Tilbage\n    ")]),e._v(" "),n("div",{staticClass:"m-5"}),e._v(" "),n("form",{on:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Spille dato"}},[n("b-input",{attrs:{disabled:""},model:{value:e.gameDate,callback:function(t){e.gameDate=t},expression:"gameDate"}})],1)],1),e._v(" "),n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Ranglist version"}},[n("b-input",{attrs:{disabled:""},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}})],1)],1)]),e._v(" "),n("b-field",{attrs:{label:"Klub"}},[n("BadmintonPlayerClubs",{on:{input:e.resetAll},model:{value:e.clubId,callback:function(t){e.clubId=t},expression:"clubId"}})],1),e._v(" "),n("b-field",{attrs:{label:"Sæson"}},[n("b-select",{attrs:{expanded:"",placeholder:"Vælge sæson"},model:{value:e.season,callback:function(t){e.season=t},expression:"season"}},[n("option",{attrs:{value:"2020"}},[e._v("2020")]),e._v(" "),n("option",{attrs:{value:"2021"}},[e._v("2021")])])],1),e._v(" "),n("b-field",{attrs:{label:"Hold"}},[n("BadmintonPlayerTeams",{attrs:{clubId:e.clubId,season:e.season},on:{input:e.resetTeamMatch},model:{value:e.playerTeam,callback:function(t){e.playerTeam=t},expression:"playerTeam"}})],1),e._v(" "),n("b-field",{attrs:{label:"Kamp"}},[n("BadmintonPlayerTeamFights",{attrs:{clubId:e.clubId,"player-team":e.playerTeam,season:e.season},on:{input:e.resetTeamMatch},model:{value:e.teamFight,callback:function(t){e.teamFight=t},expression:"teamFight"}})],1),e._v(" "),n("b-button",{attrs:{type:"submit"},on:{click:e.fetchPlayers}},[e._v("Hent kamp")])],1),e._v(" "),n("b-loading",{model:{value:e.fetchingTeamMatch,callback:function(t){e.fetchingTeamMatch=t},expression:"fetchingTeamMatch"}}),e._v(" "),e.badmintonPlayerTeamMatch?n("div",{staticClass:"columns mt-5"},[n("div",{staticClass:"column is-half"},[n("h1",{staticClass:"title"},[e._v(e._s(e.badmintonPlayerTeamMatch.home.name))]),e._v(" "),n("b-button",{staticClass:"is-primary",attrs:{loading:e.importing,expanded:""},on:{click:function(t){return e.importTeam("HOME")}}},[e._v("Import")]),e._v(" "),n("b-table",{attrs:{data:e.badmintonPlayerTeamMatch.home.squad.categories}},[n("b-table-column",{attrs:{field:"name",label:"Kategori"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.name)+"\n                ")]}}],null,!1,1702630298)}),e._v(" "),n("b-table-column",{attrs:{field:"players",label:"Spillere"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.players,(function(t){return n("p",[e._v(e._s(t.name))])}))}}],null,!1,3371718981)})],1)],1),e._v(" "),n("div",{staticClass:"column is-half"},[n("h1",{staticClass:"title"},[e._v(e._s(e.badmintonPlayerTeamMatch.guest.name))]),e._v(" "),n("b-button",{staticClass:"is-primary",attrs:{loading:e.importing,expanded:""},on:{click:function(t){return e.importTeam("GUEST")}}},[e._v("Import")]),e._v(" "),n("b-table",{attrs:{data:e.badmintonPlayerTeamMatch.guest.squad.categories}},[n("b-table-column",{attrs:{field:"name",label:"Kategori"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.name)+"\n                ")]}}],null,!1,1702630298)}),e._v(" "),n("b-table-column",{attrs:{field:"players",label:"Spillere"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.players,(function(t){return n("p",[e._v(e._s(t.name))])}))}}],null,!1,3371718981)})],1)],1)]):e._e()],1)}),[],!1,null,null,null);t.default=p.exports}}]);