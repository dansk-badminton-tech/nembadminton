{"version":3,"sources":["webpack:///resources/js/views/CreateUser.vue","webpack:///./resources/js/views/CreateUser.vue?550c","webpack:///./resources/js/views/CreateUser.vue","webpack:///./resources/js/views/CreateUser.vue?31c6","webpack:///./resources/js/views/CreateUser.vue?b1eb"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AAEA;AACA,oBADA;AAEA;AAAA;AAAA,GAFA;AAGA,MAHA,kBAGA;AACA;AACA,gBADA;AAEA,iBAFA;AAGA,oBAHA;AAIA,iCAJA;AAKA,kBALA;AAMA;AANA;AAQA,GAZA;AAaA;AACA,cADA,sBACA,MADA,EACA;AACA;AACA,KAHA;AAIA,UAJA,oBAIA;AAAA;;AACA;AACA,0BACA;AACA,uFADA;AASA;AACA;AACA,2BADA;AAEA,6BAFA;AAGA,wCAHA;AAIA,mCAJA;AAKA;AALA;AADA;AATA,OADA,EAoBA,IApBA,CAoBA;AAAA;AACA;;AACA;;AACA;AAAA;AAAA;AACA,OAxBA,WAyBA;AAAA;AACA;;AACA,mCACA;AACA,wBADA;AAEA,2BAFA;AAGA;AAHA,SADA;AAMA,OAjCA,aAkCA;AACA;AACA,OApCA;AAqCA;AA3CA;AAbA,G;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,gBAAgB,EAAE;AACpC;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,iBAAiB,EAAE;AACrC;AACA;AACA,oBAAoB,kCAAkC;AACtD;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,wBAAwB,SAAS,gCAAgC,EAAE;AACnE;AACA;AACA;AACA,SAAS,SAAS,uBAAuB,EAAE;AAC3C;AACA;AACA,oBAAoB,iCAAiC;AACrD;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,8BAA8B,EAAE;AAClD;AACA;AACA,oBAAoB,iCAAiC;AACrD;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,uBAAuB,OAAO,oBAAoB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3FA;AAAA;AAAA;AAAA;AAAqG;AACvC;AACL;;;AAGzD;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA0L,CAAgB,sPAAG,EAAC,C;;;;;;;;;;;;ACA9M;AAAA;AAAA;AAAA;AAAA;AAAA","file":"12.js","sourcesContent":["<template>\n    <div>\n        <b-field label=\"Navn\">\n            <b-input icon=\"user-alt\" v-model=\"name\"></b-input>\n        </b-field>\n        <b-field label=\"Email\">\n            <b-input icon=\"envelope\" v-model=\"email\" type=\"email\"></b-input>\n        </b-field>\n        <ClubSearch :select-club=\"selectClub\"></ClubSearch>\n        <b-field label=\"Adgangskode\">\n            <b-input icon=\"lock\" v-model=\"password\" type=\"password\"></b-input>\n        </b-field>\n        <b-field label=\"Gentag adgangskode\">\n            <b-input icon=\"lock\" v-model=\"password_confirmation\" type=\"password\"></b-input>\n        </b-field>\n        <b-button :loading=\"loading\" @click=\"create\">Opret</b-button>\n    </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\"\nimport {extractErrors} from \"../helpers\";\nimport {setAuthToken} from \"../auth\";\nimport ClubSearch from \"../components/search-club/ClubSearch\";\n\nexport default {\n    name: \"CreateUser\",\n    components: {ClubSearch},\n    data() {\n        return {\n            name: null,\n            email: null,\n            password: null,\n            password_confirmation: null,\n            clubId: null,\n            loading: false\n        }\n    },\n    methods: {\n        selectClub(clubId){\n            this.clubId = clubId\n        },\n        create() {\n            this.loading = true;\n            this.$apollo.mutate(\n                {\n                    mutation: gql`\n                        mutation ($input: RegisterInput!){\n                          register(input: $input){\n                            status\n                            tokens{access_token}\n                          }\n                        }\n                    `,\n                    variables: {\n                        input: {\n                            name: this.name,\n                            email: this.email,\n                            organization_id: this.clubId,\n                            password: this.password,\n                            password_confirmation: this.password_confirmation\n                        }\n                    }\n                })\n                .then(({data}) => {\n                    setAuthToken(data.register.tokens.access_token)\n                    this.$root.$emit('loggedIn')\n                    this.$router.push({name: 'home'})\n                })\n                .catch(({graphQLErrors}) => {\n                    let errors = extractErrors(graphQLErrors)\n                    this.$buefy.snackbar.open(\n                        {\n                            duration: 6000,\n                            type: 'is-danger',\n                            message: `Kunne ikke oprette bruger. <br />` + errors.join('<br />')\n                        })\n                }).finally(\n                () => {\n                    this.loading = false;\n                })\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Navn\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { icon: \"user-alt\" },\n            model: {\n              value: _vm.name,\n              callback: function($$v) {\n                _vm.name = $$v\n              },\n              expression: \"name\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Email\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { icon: \"envelope\", type: \"email\" },\n            model: {\n              value: _vm.email,\n              callback: function($$v) {\n                _vm.email = $$v\n              },\n              expression: \"email\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"ClubSearch\", { attrs: { \"select-club\": _vm.selectClub } }),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Adgangskode\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { icon: \"lock\", type: \"password\" },\n            model: {\n              value: _vm.password,\n              callback: function($$v) {\n                _vm.password = $$v\n              },\n              expression: \"password\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-field\",\n        { attrs: { label: \"Gentag adgangskode\" } },\n        [\n          _c(\"b-input\", {\n            attrs: { icon: \"lock\", type: \"password\" },\n            model: {\n              value: _vm.password_confirmation,\n              callback: function($$v) {\n                _vm.password_confirmation = $$v\n              },\n              expression: \"password_confirmation\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"b-button\",\n        { attrs: { loading: _vm.loading }, on: { click: _vm.create } },\n        [_vm._v(\"Opret\")]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./CreateUser.vue?vue&type=template&id=4d2515c6&scoped=true&\"\nimport script from \"./CreateUser.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d2515c6\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/daniel/projects/holdkamp/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4d2515c6')) {\n      api.createRecord('4d2515c6', component.options)\n    } else {\n      api.reload('4d2515c6', component.options)\n    }\n    module.hot.accept(\"./CreateUser.vue?vue&type=template&id=4d2515c6&scoped=true&\", function () {\n      api.rerender('4d2515c6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/CreateUser.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=template&id=4d2515c6&scoped=true&\""],"sourceRoot":""}